#!/usr/bin/bash

fullFileName="$1"
ext="${fullFileName##*.}"
fileName="${fullFileName%.*}"

#echo $fullFileName
#echo $fileName
#echo $ext

[ ! -f $fullFileName ] && echo "$fullFileName: No such file" && exit 1

if [ $ext == 'c' ]; then
	if $(grep -Fxq "#include <ncurses.h>" $fullFileName); then
		gcc $fullFileName -o $fileName -lncurses
	else
		gcc $fullFileName -o $fileName
	fi
	./$fileName
	rm $fileName
elif [ $ext == 'cpp' ]; then
	#echo This is a c++ file *
	g++ $fullFileName -o $fileName
	./$fileName
	rm $fileName
elif [ $ext == 'py' ]; then
	#echo This is a python file
	python $fullFileName
fi

exit 0
